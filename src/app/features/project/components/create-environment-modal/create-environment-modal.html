<hlm-alert-dialog>
    <button brnAlertDialogTrigger hlmBtn variant="default" size="sm" (click)="resetForm()">
        <ng-icon hlm name="lucidePlus" class="mr-2 h-4 w-4" />
        Add Environment
    </button>
    <ng-template brnAlertDialogContent let-ctx>
        <hlm-alert-dialog-content class="sm:max-w-[425px]">
            <hlm-alert-dialog-header>
                <h3 hlmAlertDialogTitle>Add New Environment</h3>
                <p hlmAlertDialogDescription>
                    Create a new deployment environment for this project (e.g., Staging, Production).
                </p>
            </hlm-alert-dialog-header>

            <div class="py-6 space-y-4">
                <div class="space-y-2">
                    <label hlmLabel for="envName" class="text-xs font-bold uppercase text-muted-foreground px-1">
                        Environment Name
                    </label>
                    <input hlmInput id="envName" placeholder="e.g., Staging" [(ngModel)]="envName" class="w-full"
                        (keyup.enter)="create(ctx)" autofocus>
                </div>
            </div>

            <hlm-alert-dialog-footer>
                <button hlmAlertDialogCancel (click)="ctx.close()">Cancel</button>
                <button hlmAlertDialogAction (click)="create(ctx)" [disabled]="!envName || loading()">
                    {{ loading() ? 'Creating...' : 'Create Environment' }}
                </button>
            </hlm-alert-dialog-footer>
        </hlm-alert-dialog-content>
    </ng-template>
</hlm-alert-dialog>